(function(t){function e(e){for(var s,r,c=e[0],o=e[1],l=e[2],m=0,p=[];m<c.length;m++)r=c[m],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="https://cdn.jsdelivr.net/gh/JX3BOX/wiki@gh-pages/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Content",{attrs:{query:t.query}}),n("Relation",{attrs:{query:t.query}}),n("Revision",{attrs:{query:t.query}}),n("Comment",{attrs:{query:t.query}})],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-content-wrapper"},[n("div",{staticClass:"m-meta"},[n("span",{staticClass:"u-title"},[n("img",{staticClass:"u-icon",attrs:{src:t.resolveIconPath(t.achievement.IconID)},on:{"~error":function(e){return t.iconErrorHandler(e)}}}),n("span",{staticClass:"u-text"},[t._v(t._s(t.achievement.Name))])]),t._m(0)]),n("div",{staticClass:"m-block m-content"},[n("div",{staticClass:"m-warning",class:{hide:!t.warning}},[t._v(" ‚ùå ÊÇ®ÁöÑÊµèËßàÂô®ÁâàÊú¨Â§™‰Ωé,Â∞ÜÊó†Ê≥ïÊ≠£Â∏∏‰ΩøÁî®Êú¨Â∫îÁî® ")]),n("div",{staticClass:"m-title",attrs:{id:"title"}},[n("span",{staticClass:"u-label"},[t._v("‚úîÔ∏è ÊàêÂ∞±ÊîªÁï•")]),n("a",{staticClass:"u-zhtr",class:{on:t.isTW},attrs:{id:"translator"},on:{click:t.translateHandler,"~click":function(e){return t.translateTrigger(e)}}},[t._v(" üå∏[ "),n("span",{staticClass:"u-tr"},[t._v("Âè∞ÁÅ£Ê≠£È´î")]),n("span",{staticClass:"u-cn"},[t._v("ÁÆÄ‰Ωì‰∏≠Êñá")]),t._v(" ] ")]),n("span",{staticClass:"u-star"},[n("span",[t._v("ÈöæÂ∫¶")]),n("span",{attrs:{id:"stars"}},[t._v(t._s(this.stars))])]),n("span",{staticClass:"u-date"},[n("span",[t._v("ÊúÄÂêéÊõ¥Êñ∞‰∫é")]),n("em",{attrs:{id:"updatetime"}},[t._v(t._s(this.updatetime))])]),n("a",{staticClass:"u-edit",class:{on:t.isEditMode},attrs:{id:"edit"},on:{click:function(e){return t.editHandler(e)}}},[t._v("üìùÁºñËæë‰øÆËÆ¢")])]),n("div",{staticClass:"m-section u-content",class:{"u-null":t.isnull,isEditable:t.isEditMode,hide:t.isTW},attrs:{contenteditable:!!t.isEditMode,id:"content"},domProps:{innerHTML:t._s(t.content)},on:{"~input":function(e){return t.changeHandler(e)}}}),n("div",{staticClass:"m-section u-content",class:{hide:!t.isTW},attrs:{id:"content-tw"},domProps:{innerHTML:t._s(t.content_tw)}}),n("div",{staticClass:"m-tips",class:{hide:!t.isEditMode}},[t._v(" Ê∏∏ÊàèÂÜÖ‰ªÖÊîØÊåÅÁÆÄÊòìÊñáÊú¨‰øÆËÆ¢,Â¶ÇÈúÄ‰∏ä‰º†ÂõæÁâáÁ≠â,ËØ∑Ëá≥"),n("a",{attrs:{href:"https://www.jx3box.com"}},[t._v("JX3BOXÁΩëÁ´ô")]),t._v("Êìç‰Ωú ")]),n("div",{staticClass:"m-author isEditable",class:{hide:!t.isEditMode}},[n("div",{staticClass:"u-level"},[t._v(" ÈöæÂ∫¶"),n("span",[t._v("(1-5)")]),t._v(" : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.publish.level,expression:"publish.level"}],attrs:{type:"number",id:"level",min:"1",max:"5"},domProps:{value:t.publish.level},on:{input:function(e){e.target.composing||t.$set(t.publish,"level",e.target.value)}}})]),n("div",{staticClass:"u-author"},[t._v(" ‰ΩúËÄÖ : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.publish.author,expression:"publish.author"}],attrs:{type:"text",id:"author"},domProps:{value:t.publish.author},on:{input:function(e){e.target.composing||t.$set(t.publish,"author",e.target.value)}}})]),n("div",{staticClass:"u-remark"},[t._v(" ‰øÆËÆ¢ËØ¥Êòé : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.publish.remark,expression:"publish.remark"}],attrs:{type:"text",id:"remark"},domProps:{value:t.publish.remark},on:{input:function(e){e.target.composing||t.$set(t.publish,"remark",e.target.value)}}})]),n("div",{staticClass:"u-btn"},[n("a",{staticClass:"u-btn-cancel",attrs:{id:"cancel"},on:{click:function(e){return t.cancelHandler(e)}}},[t._v("ÂèñÊ∂à")]),n("a",{staticClass:"u-btn-submit",attrs:{id:"submit"},on:{click:function(e){return t.submitHanlder(e)}}},[t._v("Êèê‰∫§")])])])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"u-group"},[n("em",[t._v("„ÄêÊÑèËßÅÂèçÈ¶àQQÁæ§„Äë")]),n("b",[t._v("614370825")])])}];n("99af"),n("d3b7"),n("38cf");function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{polished:!0,separator:"-"},n=new Date(1e3*parseInt(t)),s=n.getFullYear(),a=n.getMonth()+1,i=n.getDate(),r=e.polished?"".concat(s).concat(e.separator).concat(o(a)).concat(e.separator).concat(o(i)):"".concat(s).concat(e.separator).concat(a).concat(e.separator).concat(i);return r}function o(t){return t<10?"0"+t:t}var l=c,u=(n("c975"),n("ac1f"),function(){var t=window.navigator.userAgent.toLowerCase(),e={isPC:!0,isMobile:!1,platform:"pc"},n=document.documentElement.className,s=["micromessenger","android","iphone","symbianOS","windows phone","ipad","ipod"],a=["wx","android","iphone","symbian","wp","ipad","ipod"],i=(function(){for(var i=0;i<s.length;i++)if(t.indexOf(s[i])>0){e.isPC=!1,e.isMobile=!0,e.platform=a[i],n+=" ua-mobile ua-"+a[i],document.documentElement.className=n;break}e.isPC&&(n+=" ua-pc",document.documentElement.className=n)}(),/(micromessenger|opr|edge|firefox)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(safari)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||/(trident).+rv:(\w.)+/.exec(t)||[]),r={micromessenger:"wx",opr:"oprea",edge:"edge",firefox:"firefox",chrome:"chrome",safari:"safari",trident:"ie",msie:"ie"};(function(){var t=i[1];e.browser=r[t];var s=i[2];e.version=parseInt(s),n+=" browser-"+e.browser,"ie"==e.browser&&(e.isIE=!0,n+=" ie-"+e.version),document.documentElement.className=n})();return window._ua=e,e}),m=n("ee8f"),p=m.JX3BOX,v=m.Utils,d=n("bc3a"),_=n("2ef0"),h=n("4328"),f={name:"Content",props:["query"],data:function(){return{achievement:{},post:{},isEditMode:!1,isChanged:!1,isTW:!1,publish:{level:1,author:this.$options.filters.playerName(this.query.player),remark:""},ua:{},content_tw:""}},computed:{stars:function(){return this.post?this.renderStars(this.post.level):"‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è"},updatetime:function(){return this.post?l(this.post.updated):"0000-00-00"},content:function(){return this.post&&_.get(this.post,"content")&&v.resolveImagePath(_.get(this.post,"content"))||"üíß ÊöÇÊó†ÊîªÁï•"},isnull:function(){return!this.post.content},warning:function(){return"ie"==this.ua.browser&&this.ua.version<9}},methods:{renderStars:function(t){return"‚≠êÔ∏è".repeat(this.resolveLevelValue(t))},editHandler:function(t){t.preventDefault(),this.isTW=!1,this.isEditMode=!0},cancelHandler:function(t){t.preventDefault(),this.isEditMode=!1},submitHanlder:function(t){var e=this;if(t.preventDefault(),this.isChanged)if(this.publish.remark){var n=this.resolveLevelValue(this.publish.level?this.publish.level:this.post.level),s=this.$options.filters.playerName(this.publish.author);d({method:"POST",url:"".concat(p.__helperUrl,"api/achievement/").concat(this.query.id,"/post"),headers:{Accept:"application/prs.helper.v2+json"},data:h.stringify({post:{level:n,user_nickname:s,content:$("#content").html(),remark:this.publish.remark}})}).then((function(t){t=t.data,200===t.code?alert("‚úîÔ∏è Êèê‰∫§ÊàêÂäü,ËØ∑Á≠âÂæÖÂÆ°Ê†∏"):alert("‚ö†Ô∏è ".concat(t.message))})).catch((function(t){alert("‚ö†Ô∏è ÁΩëÁªúÂºÇÂ∏∏,Êèê‰∫§Â§±Ë¥•")})).finally((function(){e.isEditMode=!1}))}else alert("ËØ∑ÁÆÄÂçïÊèèËø∞Êú¨Ê¨°‰øÆËÆ¢ËØ¥Êòé");else alert("Ê≤°Êúâ‰ªª‰ΩïÊîπÂä®ÔºåËØ∑ÂãøÊª•Êèê‰∫§")},changeHandler:function(t){this.isChanged=!0},translateHandler:function(t){t.preventDefault(),this.isTW=!this.isTW},translateTrigger:function(){this.content_tw=v.cn2tw(this.content)},stat:function(t,e){d.post("".concat(p.__spider,"jx3stat/cj"),{cjid:t,title:e||"----",ua:JSON.stringify(this.ua)})},resolveLevelValue:function(t){return Math.min(Math.max(1,parseInt(t)),5)},getAchievement:function(){var t=this;d({url:"".concat(p.__helperUrl,"api/achievement/").concat(this.query.id),headers:{Accept:"application/prs.helper.v2+json"}}).then((function(e){e=e.data,200===e.code&&(t.achievement=e.data.achievement)})).catch((function(){t.achievement=!1})).finally((function(){t.stat(t.query.id,t.achievement.Name)}))},resolveIconPath:function(t){return t?p.__iconPath+t+".png":p.__imagePath+"common/nullicon.png"},iconErrorHandler:function(t){t.target.src=p.__imagePath+"common/nullicon.png"}},mounted:function(){var t=this;this.ua=u(),this.query.id&&(d({url:"".concat(p.__helperUrl,"api/achievement/").concat(this.query.id,"/post"),headers:{Accept:"application/prs.helper.v2+json"}}).then((function(e){t.post=e.data.data.post||{},t.publish.level=t.resolveLevelValue(_.get(t.post,"level"))})).catch((function(e){t.isnull=!0,t.post.content="‚ö†Ô∏è Êï∞ÊçÆÂä†ËΩΩÂºÇÂ∏∏"})).finally((function(){$("#content img").length&&v.checkImageLoad($("#content img"))})),this.getAchievement())}},g=f,C=n("2877"),y=Object(C["a"])(g,i,r,!1,null,null,null),b=y.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-block m-revision",attrs:{id:"revision"}},[t._m(0),n("div",{staticClass:"m-section"},[null===t.versions?n("span",[t._v("Loading...")]):t._e(),!1===t.versions?n("span",[t._v("‚ö†Ô∏è Êï∞ÊçÆÂä†ËΩΩÂºÇÂ∏∏")]):t._e(),t.versions&&!t.versions.length?n("span",[t._v("üíß ÊöÇÊó†Êï∞ÊçÆ")]):t._e(),t.versions&&t.versions.length?n("table",{attrs:{id:"histories"}},[t._m(1),t._l(t.versions,(function(e,s){return n("tr",{key:s,staticClass:"history"},[n("td",[n("a",{attrs:{target:"_blank",href:"javascript:void(0)"},domProps:{textContent:t._s("v"+(t.versions.length-s))}})]),n("td",[t._v(t._s(t._f("dateFormat")(e.updated)))]),n("td",{domProps:{textContent:t._s(e.user_nickname)}}),n("td",{domProps:{textContent:t._s(e.remark)}})])}))],2):t._e()])])},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-title",attrs:{id:"title"}},[n("span",{staticClass:"u-label"},[t._v("üìÑ ÂéÜÂè≤ÁâàÊú¨")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("ÁâàÊú¨")]),n("th",[t._v("Êõ¥Êñ∞Êó∂Èó¥")]),n("th",[t._v("Ë¥°ÁåÆËÄÖ")]),n("th",[t._v("‰øÆËÆ¢ËØ¥Êòé")])])}],x=n("ee8f"),P=x.JX3BOX,M={name:"Revision",props:["query"],data:function(){return{versions:null}},computed:{},methods:{getVersions:function(){var t=this;$.ajax({url:"".concat(P.__helperUrl,"api/achievement/").concat(this.query.id,"/versions"),headers:{Accept:"application/prs.helper.v2+json"},type:"GET",success:function(e){200===e.code&&(t.versions=e.data.versions)},error:function(){t.versions=!1}})}},mounted:function(){this.getVersions()}},S=M,E=(n("bb51"),Object(C["a"])(S,k,w,!1,null,null,null)),q=E.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasRelations,expression:"hasRelations"}],staticClass:"m-block m-boss",attrs:{id:"relation"}},[n("div",{staticClass:"m-title",attrs:{id:"title"}},[t._m(0),n("span",{staticClass:"u-boss",class:{on:!t.isPrimary},on:{click:t.bossHandler}},[t._v("BOSSÂ±ûÊÄßÂèÇËÄÉ")])]),n("div",{staticClass:"m-section",class:{hide:!t.isPrimary}},[null===t.relations?n("span",[t._v("Loading...")]):t._e(),!1===t.relations?n("span",[t._v("‚ö†Ô∏è Êï∞ÊçÆÂä†ËΩΩÂºÇÂ∏∏")]):t._e(),t.relations&&!t.relations.length?n("span",[t._v("üíß Êó†Áõ∏ÂÖ≥Êï∞ÊçÆ")]):t._e(),t.relations&&t.relations.length?n("ul",{staticClass:"m-relations"},t._l(t.relations,(function(e,s){return n("li",{key:s},[n("a",{staticClass:"u-title",attrs:{href:t.resolveCjLink(e.ID)}},[n("img",{staticClass:"u-icon",attrs:{src:t.resolveIconPath(e.IconID)},on:{"~error":function(e){return t.iconErrorHandler(e)}}}),n("span",{staticClass:"u-text"},[t._v(t._s(e.Name))])])])})),0):t._e()]),n("ul",{staticClass:"m-section m-bossinfo",class:{hide:t.isPrimary}},[n("li",{staticClass:"u-id"},[t._v("ID:"+t._s(t.npc.ID))]),n("li",{staticClass:"u-name"},[t._v(t._s(t.npc.Name))]),n("li",{staticClass:"u-desc"},[t._v("Áß∞Ë∞ì"),n("em",[t._v("Title")]),t._v(t._s(t.npc.Title))]),n("li",{staticClass:"u-desc"},[t._v("Á≠âÁ∫ß"),n("em",[t._v("Level:")]),t._v(t._s(t.npc.Level))]),n("li",{staticClass:"u-desc"},[t._v("Âº∫Â∫¶"),n("em",[t._v("Intensity")]),t._v(t._s(t.npc.Intensity))]),n("li",{staticClass:"u-desc"},[t._v("Âú∞Âõæ"),n("em",[t._v("MapName")]),t._v(t._s(t.npc.MapName))]),n("li",{staticClass:"u-desc"},[t._v("Â§áÊ≥®"),n("em",[t._v("_Notation")]),t._v(t._s(t.npc._Notation))]),n("li",{staticClass:"u-desc"},[t._v("Ë°ÄÈáè"),n("em",[t._v("MaxLife")]),t._v(t._s(t.npc.MaxLife))]),n("li",{staticClass:"u-desc"},[t._v("ËìùÈáè"),n("em",[t._v("MaxMana")]),t._v(t._s(t.npc.MaxMana))]),n("li",{staticClass:"u-desc"},[t._v("Ë∑ëÈÄü"),n("em",[t._v("RunSpeed")]),t._v(t._s(t.npc.RunSpeed))]),n("li",{staticClass:"u-desc"},[t._v("ÁßªÈÄü"),n("em",[t._v("WalkSpeed")]),t._v(t._s(t.npc.WalkSpeed))]),n("li",{staticClass:"u-desc",attrs:{title:"ÊîªÂáªË°•ÂÅøË∑ùÁ¶ª/64"}},[t._v(" ‰ΩìÁßØ"),n("em",[t._v("TouchRange")]),t._v(t._s(t.npc.TouchRange)+" ")]),n("li",{staticClass:"u-desc"},[t._v("ËØÜÁ†¥"),n("em",[t._v("Sense")]),t._v(t._s(t.npc.Sense))]),n("li",{staticClass:"u-desc"},[t._v("Èó™ÈÅø"),n("em",[t._v("Dodge")]),t._v(t._s(t.npc.Dodge))]),n("li",{staticClass:"u-desc"},[t._v(" Â§ñÂäüÈò≤Âæ°"),n("em",[t._v("PhysicsShieldBase")]),t._v(t._s(t.npc.PhysicsShieldBase)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Ê∑∑ÂÖÉÈò≤Âæ°"),n("em",[t._v("NeutralMagicDefence")]),t._v(t._s(t.npc.NeutralMagicDefence)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Èò≥ÊÄßÈò≤Âæ°"),n("em",[t._v("SolarMagicDefence")]),t._v(t._s(t.npc.SolarMagicDefence)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Èò¥ÊÄßÈò≤Âæ°"),n("em",[t._v("LunarMagicDefence")]),t._v(t._s(t.npc.LunarMagicDefence)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" ÊØíÊÄßÈò≤Âæ°"),n("em",[t._v("PoisonMagicDefence")]),t._v(t._s(t.npc.PoisonMagicDefence)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Â§ñÂäü‰ºöÂøÉ"),n("em",[t._v("PhysicsCriticalStrike")]),t._v(t._s(t.npc.PhysicsCriticalStrike)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Ê∑∑ÂÖÉ‰ºöÂøÉ"),n("em",[t._v("NeutralCriticalStrike")]),t._v(t._s(t.npc.NeutralCriticalStrike)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Èò≥ÊÄß‰ºöÂøÉ"),n("em",[t._v("SolarCriticalStrike")]),t._v(t._s(t.npc.SolarCriticalStrike)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Èò¥ÊÄß‰ºöÂøÉ"),n("em",[t._v("LunarCriticalStrike")]),t._v(t._s(t.npc.LunarCriticalStrike)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" ÊØíÊÄß‰ºöÂøÉ"),n("em",[t._v("PoisonCriticalStrike")]),t._v(t._s(t.npc.PoisonCriticalStrike)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Â§ñÂäüÂëΩ‰∏≠"),n("em",[t._v("PhysicsAttackHit")]),t._v(t._s(t.npc.PhysicsAttackHit)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Ê∑∑ÂÖÉÂëΩ‰∏≠"),n("em",[t._v("NeutralMagicHit")]),t._v(t._s(t.npc.NeutralMagicHit)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Èò≥ÊÄßÂëΩ‰∏≠"),n("em",[t._v("SolarMagicHit")]),t._v(t._s(t.npc.SolarMagicHit)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Èò¥ÊÄßÂëΩ‰∏≠"),n("em",[t._v("LunarMagicHit")]),t._v(t._s(t.npc.LunarMagicHit)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" ÊØíÊÄßÂëΩ‰∏≠"),n("em",[t._v("PoisonMagicHit")]),t._v(t._s(t.npc.PoisonMagicHit)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Ë°ÄÊù°ÊòØÂê¶ÂèØËßÅ"),n("em",[t._v("CanSeeLifeBar")]),t._v(t._s(t.npc.CanSeeLifeBar)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" ÊòØÂê¶ÂèØË¢´ÈÄâÊã©"),n("em",[t._v("IsSelectable")]),t._v(t._s(t.npc.IsSelectable)+" ")]),n("li",{staticClass:"u-desc"},[t._v(" Â§çÊ¥ªÊó∂Èó¥"),n("em",[t._v("ReviveTime")]),t._v(t._s(t.npc.ReviveTime)+" ")])])])},j=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"u-label"},[t._v("üîó Áõ∏ÂÖ≥ÊàêÂ∞± "),n("em",[t._v("ÂêåBOSSÂÖ∂ÂÆÉÊàêÂ∞±")])])}],O=n("ee8f"),H=O.JX3BOX,L=n("bc3a"),I={name:"Relation",props:["query"],data:function(){return{relations:{},isPrimary:!0,npcid:0,dungeon_id:null,npc:{},hasRelations:!0}},computed:{},methods:{getRelationList:function(){var t=this,e=this;L({method:"GET",url:"".concat(H.__helperUrl,"api/achievement/").concat(this.query.id,"/relations"),headers:{Accept:"application/prs.helper.v2+json"}}).then((function(n){if(200===n.data.code&&n.data.data.relations.length){var s=n.data.data;e.npcid=s.boss_id,e.dungeon_id=s.dungeon_id,e.relations=s.relations,t.getBossInfo(e.npcid)}else t.hasRelations=!1}),(function(){e.relations=!1}))},resolveIconPath:function(t){return t?H.__iconPath+t+".png":H.__imagePath+"common/nullicon.png"},iconErrorHandler:function(t){t.target.src=H.__imagePath+"common/nullicon.png"},resolveCjLink:function(t){var e=t||0,n=this.query.player||"";return"https://wiki.jx3box.com/?id=".concat(e)+(n?"&player=".concat(n):"")},bossHandler:function(){this.isPrimary=!this.isPrimary},getBossInfo:function(t){var e=this;t&&L.get("".concat(H.__node,"npc/id/").concat(t)).then((function(t){e.npc=t.data.length&&t.data[0]||{}}))}},mounted:function(){this.getRelationList()}},T=I,D=(n("81af"),Object(C["a"])(T,N,j,!1,null,null,null)),R=D.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-block m-comment",attrs:{id:"comment"}},[t._m(0),n("div",{staticClass:"m-section"},[null===t.comments?n("span",[t._v("Loading...")]):t._e(),!1===t.comments?n("span",[t._v("‚ö†Ô∏è Êï∞ÊçÆÂä†ËΩΩÂºÇÂ∏∏")]):t._e(),t.comments&&!t.comments.length?n("span",[t._v("üíß ÊöÇÊó†ËØÑËÆ∫")]):t._e(),n("div",{staticClass:"m-comments"},[n("CommentItem",{attrs:{comments:t.comments,query:t.query}}),n("div",{staticClass:"m-reply-form"},[n("h4",{staticClass:"u-title"},[t._v("üì∞ ÂõûÂ§ç")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reply_form.content,expression:"reply_form.content"}],staticClass:"u-reply-content",staticStyle:{resize:"vertical"},domProps:{value:t.reply_form.content},on:{input:function(e){e.target.composing||t.$set(t.reply_form,"content",e.target.value)}}}),n("div",{staticClass:"u-author"},[n("span",[t._v("‰ΩúËÄÖ : ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.reply_form.user_nickname,expression:"reply_form.user_nickname"}],attrs:{type:"text"},domProps:{value:t.reply_form.user_nickname},on:{input:function(e){e.target.composing||t.$set(t.reply_form,"user_nickname",e.target.value)}}})]),n("button",{staticClass:"u-submit",on:{click:function(e){return t.create_comment(t.reply_form)}}},[t._v("‚úîÔ∏è Êèê‰∫§")])])],1)])])},A=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-title",attrs:{id:"title"}},[n("span",{staticClass:"u-label"},[t._v("üíñ ËØÑËÆ∫")])])}],X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"comments"},t._l(t.comments,(function(e,s){return n("li",{key:s,staticClass:"c-comment"},[n("div",{staticClass:"comment"},[n("div",{staticClass:"m-nickname"},[n("span",{staticClass:"u-nickname",domProps:{textContent:t._s(e.user_nickname)}}),e.parent_id?[n("span",[t._v(" ÂõûÂ§ç ")]),n("span",{staticClass:"u-nickname",domProps:{textContent:t._s(e.parent.user_nickname)}})]:t._e()],2),n("p",{staticClass:"u-content",domProps:{innerHTML:t._s(e.content)}}),n("div",{staticClass:"m-reply"},[n("button",{staticClass:"u-reply",class:{show:e.reply_form.show},domProps:{textContent:t._s(e.reply_form.show?"Êî∂Ëµ∑ ‚Ü©":"üí¨ ÂõûÂ§ç")},on:{click:function(t){e.reply_form.show=!e.reply_form.show}}}),n("span",{staticClass:"u-time"},[t._v(t._s(t._f("dateFormat")(e.updated)))])]),e.reply_form.show?n("div",{staticClass:"m-reply-form"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reply_form.content,expression:"comment.reply_form.content"}],staticClass:"u-reply-content",staticStyle:{resize:"vertical"},domProps:{value:e.reply_form.content},on:{input:function(n){n.target.composing||t.$set(e.reply_form,"content",n.target.value)}}}),n("div",{staticClass:"u-author"},[n("span",[t._v("‰ΩúËÄÖ : ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.reply_form.user_nickname,expression:"comment.reply_form.user_nickname"}],attrs:{type:"text"},domProps:{value:e.reply_form.user_nickname},on:{input:function(n){n.target.composing||t.$set(e.reply_form,"user_nickname",n.target.value)}}})]),n("button",{staticClass:"u-submit",on:{click:function(n){return t.create_comment(e.reply_form,e.id)}}},[t._v("‚úîÔ∏è Êèê‰∫§")])]):t._e()]),e.children.length?n("CommentItem",{attrs:{comments:e.children,query:t.query}}):t._e()],1)})),0)},V=[],J={name:"CommentItem",props:["comments","query"],methods:{create_comment:function(t,e){this.$parent.create_comment(t,e)}}},W=J,U=Object(C["a"])(W,X,V,!1,null,null,null),F=U.exports,z=n("ee8f"),G=z.JX3BOX,Q=n("bc3a"),Y=n("4328"),K={name:"Comment",props:["query"],data:function(){return{comments:null,reply_form:{content:"",user_nickname:this.$options.filters.playerName(this.query.player)}}},computed:{},methods:{get_comments:function(){var t=this;Q({method:"GET",url:"".concat(G.__helperUrl,"api/achievement/").concat(this.query.id,"/comments"),headers:{Accept:"application/prs.helper.v2+json"}}).then((function(e){if(e=e.data,200===e.code){for(var n=e.data.comments,s=0;s<n.length;s++)n[s]["reply_form"]={show:!1,content:"",user_nickname:t.$options.filters.playerName(t.query.player)};t.comments=Z(n,0)}}),(function(){t.comments=!1}))},create_comment:function(t,e){"undefined"===typeof e&&(e=0),t.content?Q({method:"POST",url:"".concat(G.__helperUrl,"api/achievement/").concat(this.query.id,"/comment"),headers:{Accept:"application/prs.helper.v2+json"},crossDomain:!0,data:Y.stringify({comment:{achievement_id:this.query.id,parent_id:e,user_nickname:this.$options.filters.playerName(t.user_nickname),content:t.content}})}).then((function(e){e=e.data,200===e.code?(t.content="",alert("‚úîÔ∏è Êèê‰∫§ÊàêÂäü,ËØ∑Á≠âÂæÖÂÆ°Ê†∏")):alert("‚ö†Ô∏è ".concat(e.message))})).catch((function(t){alert("‚ö†Ô∏è ÁΩëÁªúÂºÇÂ∏∏,Êèê‰∫§Â§±Ë¥•")})).finally((function(){t.show=!1})):alert("ËØ∑ÂÖàÂ°´ÂÜôËØÑËÆ∫ÂÜÖÂÆπÂÜçÂ∞ùËØïÊèê‰∫§")}},mounted:function(){var t=this;t.get_comments()},components:{CommentItem:F}};function Z(t,e){var n=[];return $.each(t,(function(s,a){if(!a)return!0;if(a.parent_id===e){t[s]=null;var i=Z(t,a.id);a.children=i||[],n.push(a)}})),n}var tt=K,et=(n("fbba"),Object(C["a"])(tt,B,A,!1,null,null,null)),nt=et.exports,st=n("c909"),at={name:"App",data:function(){return{query:st(location.href).query(!0)}},computed:{},methods:{},mounted:function(){},components:{Content:b,Revision:q,Relation:R,Comment:nt}},it=at,rt=(n("7c55"),Object(C["a"])(it,s,a,!1,null,null,null)),ct=rt.exports;function ot(t){return t||"ÂåøÂêç"}var lt=ot;Vue.config.productionTip=!1,Vue.filter("dateFormat",l),Vue.filter("playerName",lt),new Vue({render:function(t){return t(ct)}}).$mount("#app")},"60cd":function(t,e,n){},"73b0":function(t,e,n){},"7c55":function(t,e,n){"use strict";var s=n("a8fc"),a=n.n(s);a.a},"7db0":function(t,e,n){},"81af":function(t,e,n){"use strict";var s=n("60cd"),a=n.n(s);a.a},a8fc:function(t,e,n){},bb51:function(t,e,n){"use strict";var s=n("7db0"),a=n.n(s);a.a},fbba:function(t,e,n){"use strict";var s=n("73b0"),a=n.n(s);a.a}});
//# sourceMappingURL=app.bdd703dc.js.map